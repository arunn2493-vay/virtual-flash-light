<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      background-color: black;
    }
    .flash {
      animation: flash 1s infinite;
    }
    @keyframes flash {
      0%, 100% { background-color: black; }
      50% { background-color: red; }
    }
  </style>
</head>
<body>
  <script>
    // Function to poll the server
    async function checkForFlash() {
      try {
        // Fetch the server with the flash=true parameter
        const response = await fetch('https://arunn2493-vay.github.io/virtual-flash-light/index.html?flash=true');
        const urlParams = new URLSearchParams(window.location.search);
        const shouldFlash = urlParams.get('flash');

        // Trigger the flash if 'flash=true' is detected
        if (shouldFlash === 'true') {
          document.body.classList.add('flash');
          setTimeout(() => {
            document.body.classList.remove('flash');
          }, 5000); // Adjust duration as needed
        }
      } catch (error) {
        console.error('Error checking for flash:', error);
      }
    }

    // Poll the server every 5 seconds
    setInterval(checkForFlash, 5000);
  </script>
</body>
</html>
